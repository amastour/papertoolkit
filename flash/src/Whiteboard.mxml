<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute" backgroundGradientColors="[0x333333, 0x333333]" pageTitle="Whiteboard" creationComplete="constructWhiteboard()">
	<mx:Style source="styles/styles.css"/>
	<mx:Script>
		<![CDATA[
			import tools.WhiteboardBackend;
			import mx.core.UIComponent;
			
			// more or less all the code is stored in the as file! =)			
			private var whitebd:WhiteboardBackend;
			private var container:UIComponent;
			
			public function constructWhiteboard():void {
				whitebd = new WhiteboardBackend(debugText);


				container = new UIComponent();
				addChild(container);

				container.addChild(whitebd);				
				debugText.text = "Just Testing...";
				
				whitebd.setParent(this);
			}

			public function zoomIn():void {
				whitebd.scaleX *= 1.25;
				whitebd.scaleY *= 1.25;
			}
			public function resetZoom():void {
				whitebd.scaleX = 1;
				whitebd.scaleY = 1;
				// whitebd.recenter();
				whitebd.recenterMostRecent(stage);
			}
			public function zoomOut():void {
				whitebd.scaleX *= .8;
				whitebd.scaleY *= .8;
			}
			
			public function toggleDebugText():void {
				// removeAllChildren(); // don't do this! It removes all components
				debugText.visible = !debugText.visible;
			}
		]]>
	</mx:Script>
	<mx:Button label="Save" bottom="10" left="10"/>
	<mx:TextArea editable="false" width="276" right="10" top="10" id="debugText" color="#000000" bottom="41" visible="false"/>
	<mx:Button label="Debug" bottom="10" left="81" click="toggleDebugText()"/>
	<mx:HBox bottom="10" right="10">
		<mx:Button label="Smaller" click="zoomOut()"/>
		<mx:Button label="Reset Zoom" click="resetZoom()"/>
		<mx:Button label="Bigger" click="zoomIn()"/>
	</mx:HBox>
</mx:Application>
