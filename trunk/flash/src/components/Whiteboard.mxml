<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" 
	layout="absolute" backgroundGradientColors="[0x333333, 0x333333]" pageTitle="Whiteboard" creationComplete="constructWhiteboard()"
	addedToStage="addedToStage()">
	<mx:Style source="styles/styles.css"/>
	<mx:Script>
		<![CDATA[
			import tools.WhiteboardBackend;
			import mx.core.UIComponent;
			
			// more or less all the code is stored in the as file! =)			
			private var whitebd:WhiteboardBackend;
			private var container:UIComponent;
		 	
			public function constructWhiteboard():void {
				whitebd = new WhiteboardBackend();
				container = new UIComponent();
				container.addChild(whitebd);				
				addChild(container);

				whitebd.setDebugText(debugText);
				whitebd.setParent(this);
			}
			
			public function addedToStage():void {
				trace("addedToStage");
				whitebd.setRoot(root);
				whitebd.setStage(stage);
				whitebd.processParameters();
			}
			
		]]>
	</mx:Script>
	<mx:TextArea editable="false" width="255" right="10" top="53" id="debugText" color="#000000" bottom="41" 
		visible="false" alpha="0.85" fontSize="10" fontFamily="Lucida Console"/>
	<mx:HBox bottom="10" right="10">
		<mx:Button label="-" click="whitebd.zoomOut()"/>
		<mx:Button label="Reset Zoom" click="whitebd.resetZoom()"/>
		<mx:Button label="+" click="whitebd.zoomIn()"/>
	</mx:HBox>
	<mx:HBox bottom="10" left="10">
		<mx:Button label="Save" click="whitebd.saveInk()"/>
		<mx:Button label="Debug" click="whitebd.toggleDebugText()"/>
		<mx:Button label="Exit" click="whitebd.exit()"/>
	</mx:HBox>
	<mx:ColorPicker id="colorSwatch" left="10" bottom="40" width="48" height="48"/>
	<mx:Label text="Live Whiteboard" right="10" top="10" fontSize="30" alpha="0" color="#b3deff" id="title"/>
</mx:Application>
